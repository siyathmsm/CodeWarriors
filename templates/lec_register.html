<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Lec register</title>
  <link rel="icon" type="image/x-icon" href="images/logo.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=NTR:wght@400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../static/lec_register.css" />
  <link rel="stylesheet" href="../static/lec_login_2.css">
</head>

<body>
  
  <div class="lec-login">
    <div class="container-7">
      <div class="container-1">
      </div>

      <div class="dropdown">
        <button class="btn">
            <span class="login-2">Register</span>
            <img class="polygon-2" src="images/dropdown.png" />
         </button>

          <div class="dropdown-content">
              <a href="lec_register.html">Lecturer</a>
              <a href="student_register.html">Student</a>
          </div>
      </div>
    
    <form id="loginForm" action="lec_register.php" method="POST" onsubmit="return handleFormSubmit()">
    <div class="group-2">
      <div class="container-3">
        <div class="container-5">
          <h1>Register (Lecturer)</h1>
          <a href="home_screen.html"><img class="group-1" src="images/close.png" /></a>
        </div>

          <div class="form-group">
            <label for="firstname"></label>
            <input type="text" id="firstname" name="firstname" placeholder="Enter your firstname" required>
            <label for="lastname"></label>
            <input type="text" id="lastname" name="lastname" placeholder="Enter your lastname" required>
          </div>
         
          <div class="form-group">
            <label for="username"></label>
            <input type="text" id="username" name="username" placeholder="Enter Lecturer ID" required>
            <label for="email"></label>
            <input type="email" id="email" name="email" placeholder="Enter your email" required>
          </div>
      
          <div class="form-group">
            <label for="phoneno"></label>
            <input type="text" id="phoneno" name="phoneno" placeholder="Enter your phone number" pattern="^\d{10}$" required oninput="validatePhoneNumber(this)">
            
            <label for="password"></label>
            <input type="password" id="password" name="password" placeholder="Enter your password" required oninput="validatePassword(this)">
          </div>

        <div class="container-4">
          <div>
            <input type="checkbox" id="remember" name="remember">
            <label for="remember">I Agree to the terms & conditions</label>
            <button class="sub" type="submit">Register</button>
            <p>Already have an account? <a href="lec_login.html">Login</a></p>
         </div>
        </div>
          
     </div>
    </div>
  </form>

  <div class="logo">
    </div>
      <span class="code-warriors">
        Code Warriors
      </span>
    </div>
  </div> 
      
  <script>
    function handleFormSubmit() {
      // Perform any client-side validation if needed
      // Example: Validate email format, password strength, etc.
      
      // Simulate form submission success with alert (Replace with fetch if submitting to server)
      alert("Registration successful! Please check your email to activate your account.");
      
      return true; // Return true to allow form submission
    }
    
    // Alternatively, you can use fetch for server-side submission
    document.getElementById('loginForm').addEventListener('submit', function(event) {
      event.preventDefault();

      var formData = new FormData(this);

      fetch('lec_register.php', {
          method: 'POST',
          body: formData
        })
        .then(response => response.json())
        .then(data => {
          showMessage(data.message, data.status === 'success');
        })
        .catch(error => console.error('Error:', error));
    });

    function validatePhoneNumber(input) {
      input.value = input.value.replace(/[^0-9]/g, '').slice(0, 10);
    }

    function validatePassword(input) {
      const pattern = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[\W_]).{8,}$/;
      if (!pattern.test(input.value)) {
        input.setCustomValidity('Password must contain at least one uppercase letter, one lowercase letter, one number, one special character, and be at least 8 characters long.');
      } else {
        input.setCustomValidity('');
      }
    }
  </script>
</body>
</html>